{"version":3,"sources":["MovieCard/MovieCard.js","MovieContainer/MovieContainer.js","ListItem/ListItem.js","MovieDetails/MovieDetails.js","ErrorBoundary/ErrorBoundary.js","App/App.js","apiCalls.js","index.js"],"names":["MovieCard","title","src","alt","rating","id","getSingleMovie","to","className","onClick","toFixed","MovieContainer","movies","movieCards","map","movie","poster_path","average_rating","ListItem","label","body","MovieDetails","resetState","movieTrailers","urlId","window","location","pathname","slice","useEffect","formatNum","num","type","Intl","NumberFormat","format","backdrop_path","overview","genres","length","commaList","reduce","genre","formatGenres","release_date","budget","revenue","runtime","ErrorBoundary","props","state","hasError","error","errorInfo","console","log","this","setState","children","Component","App","componentDidMount","fetch","then","response","ok","Error","json","data","catch","message","fetchSingleMovie","getMovieTrailers","fetchTrailers","videos","exact","path","render","ReactDOM","StrictMode","basename","document","getElementById"],"mappings":"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","file":"static/js/main.d0c9c442.chunk.js","sourcesContent":["import React from 'react';\nimport { Link } from 'react-router-dom'\nimport './MovieCard.css';\n\nconst MovieCard = ({ title, src, alt, rating, id, getSingleMovie }) => {\n  return (\n    <Link to={`/${id}`}>\n      <section id={id} className='card' onClick={() => getSingleMovie(id)}>\n        <img className='card-img' src={src} alt={alt} />\n        <p>{title}</p>\n        <p>Average Rating: {rating.toFixed(2)}</p>\n      </section>\n    </Link>\n  );\n}\n\nexport default MovieCard;\n","import React from 'react';\nimport MovieCard from '../MovieCard/MovieCard';\nimport './MovieContainer.css';\n\nconst MovieContainer = ({ movies, getSingleMovie }) => {\n\n  const movieCards = movies.map(movie => {\n    return (\n      <MovieCard\n        title={movie.title}\n        src={movie.poster_path}\n        alt={movie.title}\n        rating={movie.average_rating}\n        id={movie.id}\n        key={movie.id}\n        getSingleMovie={getSingleMovie}\n      />\n    );\n  })\n\n  return (\n    <section>\n      <section className='movie-container'>\n        {movieCards}\n      </section>\n    </section>\n  );\n}\n\nexport default MovieContainer;\n","import React from 'react';\nimport  './ListItem.css';\n\nconst ListItem =  ({ label, body })  => {\n  return (\n    <section className='details-box'>\n      <p className='l-details'><b>{label}</b></p>\n      <p className='r-details'>{body}</p>\n    </section>\n  );\n}\n\nexport default ListItem;","import React, { useEffect } from 'react';\n// import ReactPlayer from 'react-player';\nimport ListItem from '../ListItem/ListItem';\nimport { Link } from 'react-router-dom';\nimport './MovieDetails.css';\n\nconst MovieDetails = ({ movie, movieTrailers, resetState, getSingleMovie }) => {\n  const urlId = +window.location.pathname.slice(1)\n  \n  useEffect(() => {\n    if (urlId !== +movie.id) {\n      getSingleMovie(urlId)\n    }\n\t});\n  \n   const formatNum = (num, type) => {\n\t\treturn (\n      num > 0 && \n      <ListItem label={type} body={`$${new Intl.NumberFormat('en-US').format(num)}`} />\n\t\t);\n  }\n\n  const formatGenres = (movie) => {\n    if (!movie.genres) {\n      return \"Unavailable\"\n    } else if (movie.genres.length > 1) {\n      let commaList = movie.genres.reduce((genres, genre) => {\n        genres += ' | ' + genre\n        return genres\n      }, '')\n      return commaList.slice(3, commaList.length);\n    } else {\n      return movie.genres[0];\n    }\n  }\n\n  const determineApproval = (rating) => {\n    if (rating < 4) {\n      return '🤢'\n    } else if (rating < 6) {\n      return '👌'\n    } else if (rating < 9) {\n      return '👍'\n    } else {\n      return '🤩'\n    }\n  }\n\n  return (\n    <section>\n      <nav>\n        <Link to='/' onClick={() => resetState()}>\n            <button className='all-movies'>\n              All Movies\n            </button>\n        </Link>\n      </nav>\n      <section className='banner-container'>\n        <img className='card-img banner-img' src={movie.backdrop_path} alt={`${movie.title} banner`} />\n      </section>\n      <section className='container'>\n        <section className='side-panel'>\n        </section>\n\n          <section className='center-panel'>\n\n            <section className='movie-details-box'>\n              {/* <ReactPlayer url={`https://www.youtube.com/watch?v=${movieTrailers.key}`} /> */}\n              {/* <img className='card-img backdrop' src={movie.backdrop_path} /> */}\n              <section className='up-first'>\n                <img className='card-img poster' src={movie.poster_path} alt={`${movie.title} poster`} />\n                <section className='poster-aside'>\n                  <p className='movie-title'><b>{movie.title}</b></p>\n                  <section className='ratings-box'>\n                    <p className='user-rating-title'><b>Average User Rating:</b></p>\n                    <p className='rating'>{movie.average_rating.toFixed(2)} /10</p>\n                    <p className='rating-emoji'>{determineApproval(movie.average_rating)}</p>\n                  </section>\n                </section>\n              </section>\n        \n              <section className='overview-box'>\n                <p className='overview-title'><b>Movie Info:</b></p>\n                <p className='overview-text'>{movie.overview}</p>\n              </section>\n              <ListItem label='Genre:' body={ formatGenres(movie) } />\n              <ListItem label='Release Date:' body={movie.release_date} />\n              { formatNum(movie.budget, 'Budget') }\n              { formatNum(movie.revenue, 'Total Revenue') }\n              <ListItem label='Runtime:' body={movie.runtime} />\n            </section> \n          </section>\n\n        <section className='side-panel'>\n        </section>\n      </section>\n    </section>\n  );\n}\n\nexport default MovieDetails;","import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport './ErrorBoundary.css';\n\nclass ErrorBoundary extends Component {\n  constructor(props) {\n    super(props);\n    this.state = { \n      hasError: false \n    };\n  }\n\n  static getDerivedStateFromError(error) {\n    return { hasError: true };\n  }\n\n  componentDidCatch(error, errorInfo) {\n    console.log(error, errorInfo);\n  }\n\n  render() {\n    if (this.state.hasError) {\n      return(\n        <section>\n          <h2>Something went wrong.</h2>\n        \t  <Link to='/' onClick={() => {this.setState({ hasError: false})}}>\n\t\t\t\t\t\t\t<button className='all-movies'>\n\t\t\t\t\t\t\t\tBack to All Movies\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</Link>\n        </section>    \n      )\n    }\n    return this.props.children;\n  }\n}\n\nexport default ErrorBoundary;","import React, {Component} from 'react';\nimport { Route, Link, Switch } from 'react-router-dom';\nimport MovieContainer from '../MovieContainer/MovieContainer';\nimport MovieDetails from '../MovieDetails/MovieDetails';\nimport ErrorBoundary from '../ErrorBoundary/ErrorBoundary';\n// import ReactPlayer from 'react-player';\nimport './App.css';\nimport { fetchSingleMovie, fetchMovies, fetchTrailers } from '../apiCalls';\n\nclass App extends Component {\n\tconstructor() {\n\t\tsuper();\n\t\tthis.state = {\n\t\t\tmovies: [],\n      movie: null,\n\t\t\terror: '',\n\t\t\tmovieTrailers: []\n\t\t}\n\t}\n\t\n  componentDidMount = () => {\n\t\tfetchMovies()\n\t\t.then(data => {\n\t\t\tif (window.location.pathname === '/rancid-tomatillos') {\n\t\t\t\tthis.setState({ movies: data.movies })\n\t\t\t\tconsole.log(window.location.pathname)\n\t\t\t}\n\t\t})\n\t\t.then(() => {\n\t\t\tif (window.location.pathname !== '/rancid-tomatillos') {\n\t\t\t\tthis.getSingleMovie(+window.location.pathname.slice(1))\n\t\t\t\t\tconsole.log(window.location.pathname)\n\n\t\t\t}\n\t\t})\n\t\t.catch(error => this.setState({ error: error.message }))\n\t}\n\t\n\tgetSingleMovie = (id) => {\n\t\treturn fetchSingleMovie(id)\n    .then(data => {\n\t\t\tthis.setState({ movie: data.movie })\n\t\t})\n\t\t// .then(() => {\n\t\t// \treturn this.getMovieTrailers(id)\n\t\t// })\n\t\t.catch(error => this.setState({ error: error.message }))\n\t}\n\n\tgetMovieTrailers = (id) => {\n\t\tfetchTrailers(id)\n\t\t.then(data => this.setState({ movieTrailers: data.videos }))\n\t\t.catch(error => console.log(error))\n\t}\n\n\tresetState = () => {\n\t\tthis.setState({ movie: null, movieTrailers: [] })\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<main className=\"App\">\n\t\t\t\t<header>\n\t\t\t\t\t<h1>Rancid Tomatillos</h1>\n\t\t\t\t</header>\n\t\t\t\t<Switch>\n\t\t\t\t\t<Route \n\t\t\t\t\t\texact \n\t\t\t\t\t\tpath='/' \n\t\t\t\t\t\trender={() => {\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<ErrorBoundary>\n\t\t\t\t\t\t\t\t\t<MovieContainer \n\t\t\t\t\t\t\t\t\t\tmovies={this.state.movies} \n\t\t\t\t\t\t\t\t\t\tgetSingleMovie={this.getSingleMovie}  \n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</ErrorBoundary>\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}}\n\t\t\t\t\t/> \n\t\t\t\t\t<Route \n\t\t\t\t\t\texact\n\t\t\t\t\t\tpath='/:id'\n\t\t\t\t\t\trender={() => {\n\t\t\t\t\t\t\tif (!this.state.movie) {\n\t\t\t\t\t\t\t\treturn(\n\t\t\t\t\t\t\t\t\t<section>\n\t\t\t\t\t\t\t\t\t\t<h2>Whoops, it looks like something went wrong. Try refreshing the page or return to all movies.</h2>\n\t\t\t\t\t\t\t\t\t\t<Link to='/' onClick={() => this.resetState()}>\n\t\t\t\t\t\t\t\t\t\t\t<button className='back'>Back to Movies</button>\n\t\t\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t\t\t</section>\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (this.state.movie) { \n\t\t\t\t\t\t\t\treturn (\t\n\t\t\t\t\t\t\t\t\t<ErrorBoundary>\n\t\t\t\t\t\t\t\t\t\t<MovieDetails  \n\t\t\t\t\t\t\t\t\t\t\tmovie={this.state.movie} \n\t\t\t\t\t\t\t\t\t\t\tresetState={this.resetState}\n\t\t\t\t\t\t\t\t\t\t\tgetSingleMovie={this.getSingleMovie}\n\t\t\t\t\t\t\t\t\t\t\t// movieTrailers={this.state.movieTrailers[0]}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</ErrorBoundary>\t\t\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t</Switch>\n\t\t\t</main>\n\t\t);\n\t}\n}\n\nexport default App;\n","export const fetchMovies = () => {\n  return fetch('https://rancid-tomatillos.herokuapp.com/api/v2/movies')\n  .then((response) => {\n    if(!response.ok) {\n      throw Error('Sorry! We\\'ve encountered an error')\n    }\n    return response.json()\n  })\n}\n\nexport const fetchSingleMovie = (id) => {\n  return fetch(`https://rancid-tomatillos.herokuapp.com/api/v2/movies/${+id}`)\n  .then((response) => {\n    if(!response.ok) {\n      throw Error('Sorry! We\\'ve encountered an error')\n    }\n    return response.json()\n  })\n}\n\nexport const fetchTrailers = (id) => {\n  return fetch(`https://rancid-tomatillos.herokuapp.com/api/v2/movies/${+id}/videos`)\n  .then(response => response.json());\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App/App';\nimport { BrowserRouter } from 'react-router-dom';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter basename='/rancid-tomatillos'>\n      <App />\n    </BrowserRouter >\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}